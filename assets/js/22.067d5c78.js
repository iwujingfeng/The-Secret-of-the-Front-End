(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{172:function(t,s,a){"use strict";a.r(s);var n=a(0),o=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"请封装一个截取页面跳转传递的参数的方法？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#请封装一个截取页面跳转传递的参数的方法？","aria-hidden":"true"}},[t._v("#")]),t._v(" 请封装一个截取页面跳转传递的参数的方法？")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("    "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" url "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'http://www.runoob.com/index.html?id=8&type=1&token=1'")]),t._v("\n\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("getUrlPrams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" arr "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" url"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("split")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'?'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arr"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" url"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" prams "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" arr"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("split")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'&'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" pramObj "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        prams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("forEach")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" pram "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" item"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("split")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'='")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            pramObj"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("pram"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" pram"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" pramObj\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" prams "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("getUrlPrams")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("prams"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prams"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// { id: '8', type: '1', token: '1' } '8'")]),t._v("\n")])])]),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("案例解析")]),t._v(" "),a("p",[t._v("首先使用"),a("code",[t._v("split('?')")]),t._v("方法，用"),a("code",[t._v("?")]),t._v("字符将完整的url转成一个数组，数组第一项是不包含参数的url，数组第二项是所有的参数组成的字符串。然后再用"),a("code",[t._v("split('&')")]),t._v("将参数截取成一个数组，进行遍历，将遍历出来的每一项继续用"),a("code",[t._v("split('=')")]),t._v("转成数组，数组第一项是参数名，第二项是参数值。最后把参数封装到一个对象中管理，对象属性是参数名，属性值就是参数值。如果请求接口是需要该参数，直接读取该对象的对应属性即可。")])]),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),a("p",[t._v("该方法目前使用的场景如下：1、在使用原生JavaScript开发页面时，在使用"),a("code",[t._v("window.location.href")]),t._v("、"),a("code",[t._v("window.location.assign()")]),t._v("、"),a("code",[t._v("window.location.replace()")]),t._v("跳转页面后，可以通过 "),a("code",[t._v("window.location.href")]),t._v(" 获取页面跳转后的完整url，调用上述方法截取参数。或者通过"),a("code",[t._v("window.location.search")]),t._v("直接获取跳转当前页面传递的参数，调用上述方法截取参数。2、在开发"),a("code",[t._v("H5")]),t._v("页面与"),a("code",[t._v("Android")]),t._v("、"),a("code",[t._v("iOS")]),t._v("交互时，可以通过"),a("code",[t._v("window.location.href")]),t._v("等方法获取 "),a("code",[t._v("Android")]),t._v("、"),a("code",[t._v("iOS")]),t._v(" 跳转"),a("code",[t._v("H5")]),t._v("页面时通过 url 传递的参数，调用上述方法截取参数。另外需要说明的是，如果参数中包含 "),a("code",[t._v("=、&、?")]),t._v("这类字符时，使用"),a("code",[t._v("split()")]),t._v(" 方法会出错，需要灵活使用"),a("code",[t._v("slice")]),t._v("、"),a("code",[t._v("substr")]),t._v("、"),a("code",[t._v("substring")]),t._v("等方法截取参数。")])])])}],!1,null,null,null);s.default=o.exports}}]);